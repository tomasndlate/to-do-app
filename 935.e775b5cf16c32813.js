"use strict";(self.webpackChunkto_do_app=self.webpackChunkto_do_app||[]).push([[935],{935:(U,k,c)=>{c.r(k),c.d(k,{TasksPageModule:()=>N});var p=c(895),d=c(433),f=c(642),r=c(199),t=c(256),h=c(135);let g=(()=>{class i{constructor(){this.currentTasks=[],this.tasksSubject=new h.X([]),this.tasks$=this.tasksSubject.asObservable(),this.currentTasks=JSON.parse(localStorage.getItem("currentTasks")||"[]"),this.emitUpdatedTasks()}addTask(e){const n=this.generateId();return this.currentTasks.push({id:n,title:e,description:"",dueDate:null,isChecked:!1}),this.emitUpdatedTasks(),n}removeTask_ById(e){this.currentTasks=this.currentTasks.filter(n=>n.id!=e),console.log(e),console.log(`title: ${this.currentTasks}`),console.log(),this.emitUpdatedTasks()}updateTask(e,n,o,s,u){for(let l of this.currentTasks)l.id===e&&(l.title=n,l.description=o,l.dueDate=s,l.isChecked=u,console.log(l));this.emitUpdatedTasks()}updateTask_Checked(e,n){for(let o of this.currentTasks)o.id===e&&(o.isChecked=n,this.emitUpdatedTasks())}getTask_ById(e){for(let n of this.currentTasks)if(n.id===e)return n;return null}emitUpdatedTasks(){localStorage.setItem("currentTasks",JSON.stringify(this.currentTasks)),this.tasksSubject.next(this.currentTasks)}generateId(){let e=parseInt(localStorage.getItem("currentId")||"0");return e+=1,localStorage.setItem("currentId",e.toString()),e}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function _(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",9)(1,"input",10),t.NdJ("ngModelChange",function(o){t.CHM(e);const s=t.oxw();return t.KtG(s.inputTitle=o)}),t.qZA(),t.TgZ(2,"input",11),t.NdJ("ngModelChange",function(o){t.CHM(e);const s=t.oxw();return t.KtG(s.inputDescription=o)}),t.qZA()()}if(2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngModel",e.inputTitle),t.xp6(1),t.Q6J("ngModel",e.inputDescription)}}function m(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",12)(1,"label",13),t._uU(2,"Due Date"),t.qZA(),t.TgZ(3,"input",14),t.NdJ("ngModelChange",function(o){t.CHM(e);const s=t.oxw();return t.KtG(s.inputDueDate=o)}),t.qZA()()}if(2&i){const e=t.oxw();t.xp6(3),t.Q6J("ngModel",e.inputDueDate)}}function T(i,a){1&i&&(t.TgZ(0,"div",15)(1,"div",16),t._UZ(2,"i",17),t.TgZ(3,"p"),t._uU(4,"Task not found"),t.qZA()(),t.TgZ(5,"a",3),t._uU(6,"Return to tasks"),t.qZA()())}function C(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"button",23),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.deleteTask())}),t._uU(1,"Delete Task"),t.qZA()}}function x(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"button",24),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.confirmDeleteTask())}),t._uU(1,"Click to Confirm Delete"),t.qZA()}}function v(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"button",25),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.saveTask())}),t._uU(1,"Save Changes"),t.qZA()}}function b(i,a){1&i&&(t.TgZ(0,"div",26),t._UZ(1,"i",27),t.qZA())}function M(i,a){if(1&i&&(t.TgZ(0,"div",18),t.YNc(1,C,2,0,"button",19),t.YNc(2,x,2,0,"button",20),t.YNc(3,v,2,0,"button",21),t.YNc(4,b,2,0,"div",22),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.isConfirmDelete),t.xp6(1),t.Q6J("ngIf",e.isConfirmDelete),t.xp6(1),t.Q6J("ngIf",!e.isConfirmSave),t.xp6(1),t.Q6J("ngIf",e.isConfirmSave)}}let w=(()=>{class i{constructor(e,n,o){this.route=e,this.router=n,this.tasksService=o,this.task=null,this.inputTitle="",this.inputDescription="",this.inputDueDate=null,this.isConfirmSave=!1,this.isConfirmDelete=!1,this.confirmDurationSave=3e3,this.confirmDurationDelete=6e3}ngOnInit(){this.route.paramMap.subscribe(e=>{const n=e.get("taskId");n&&this.onRouteIdUpdate(parseInt(n))})}onRouteIdUpdate(e){this.task=this.tasksService.getTask_ById(e),this.task&&(this.inputTitle=this.task.title,this.inputDescription=this.task.description,this.inputDueDate=this.task.dueDate),console.log(this.task)}saveTask(){this.task&&(this.tasksService.updateTask(this.task.id,this.inputTitle,this.inputDescription,this.inputDueDate,this.task.isChecked),this.isConfirmSave=!0,setTimeout(()=>{this.isConfirmSave=!1},this.confirmDurationSave))}deleteTask(){this.isConfirmDelete=!0,setTimeout(()=>{this.isConfirmDelete=!1},this.confirmDurationDelete)}confirmDeleteTask(){this.task&&(this.tasksService.removeTask_ById(this.task.id),this.isConfirmDelete=!1,this.router.navigate(["/tasks"]))}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(r.gz),t.Y36(r.F0),t.Y36(g))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-task-card"]],decls:11,vars:4,consts:[[1,"task-card"],[1,"task-card-details"],[1,"top-section-task"],["routerLink","/tasks"],[1,"bi","bi-x-lg"],["class","task-upper-details",4,"ngIf"],["class","input-date",4,"ngIf"],["class","task-not-found",4,"ngIf"],["class","task-card-update-buttons",4,"ngIf"],[1,"task-upper-details"],["type","text","placeholder","Title",3,"ngModel","ngModelChange"],["type","text","placeholder","Description",3,"ngModel","ngModelChange"],[1,"input-date"],["for","task-dueDate"],["id","task-dueDate","type","date",1,"custom-date-input",3,"ngModel","ngModelChange"],[1,"task-not-found"],[1,"task-not-found-message"],[1,"bi","bi-clipboard-x"],[1,"task-card-update-buttons"],["class","task-delete-btn",3,"click",4,"ngIf"],["class","task-confirm-delete-btn",3,"click",4,"ngIf"],["class","task-save-btn",3,"click",4,"ngIf"],["class","task-confirm-save-check",4,"ngIf"],[1,"task-delete-btn",3,"click"],[1,"task-confirm-delete-btn",3,"click"],[1,"task-save-btn",3,"click"],[1,"task-confirm-save-check"],[1,"bi","bi-check-lg"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),t._uU(4,"Task:"),t.qZA(),t.TgZ(5,"a",3),t._UZ(6,"i",4),t.qZA()(),t.YNc(7,_,3,2,"div",5),t.YNc(8,m,4,1,"div",6),t.YNc(9,T,7,0,"div",7),t.qZA(),t.YNc(10,M,5,4,"div",8),t.qZA()),2&n&&(t.xp6(7),t.Q6J("ngIf",o.task),t.xp6(1),t.Q6J("ngIf",o.task),t.xp6(1),t.Q6J("ngIf",!o.task),t.xp6(1),t.Q6J("ngIf",o.task))},dependencies:[p.O5,r.rH,d.Fj,d.JJ,d.On],styles:['[_nghost-%COMP%]{position:sticky;top:10px;align-self:start;height:calc(100vh - 20px);border-radius:6px;background-color:#f5f5f5}a[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{color:#000}.task-card[_ngcontent-%COMP%]{width:450px;height:100%;display:grid;grid-template-rows:1fr auto;padding:15px;gap:100px}.top-section-task[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:space-between;align-items:center}.top-section-task[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{position:relative;display:none;background-color:#cacaca;border-radius:50%;text-decoration:none;color:var(--color-text-primary);height:25px;aspect-ratio:1/1;justify-content:center;align-items:center}.top-section-task[_ngcontent-%COMP%] > a[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{font-size:13px;font-weight:500;width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content}.task-card-details[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;display:flex;flex-direction:column;gap:20px}.task-card-details[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{position:relative;width:auto;height:-moz-fit-content;height:fit-content;padding:10px;border:none;background-color:#fff0;border-bottom:1px solid rgb(213,213,213)}.task-upper-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.input-date[_ngcontent-%COMP%]{position:relative;width:auto;height:-moz-fit-content;height:fit-content;display:grid;grid-template-columns:auto 1fr;align-items:center;gap:20px;margin-top:50px}.custom-date-input[_ngcontent-%COMP%]{background-color:#0000;border:none;font-size:var(--font-size-md);color:var(--color-text-primary);width:-moz-fit-content;width:fit-content;outline:none}.custom-date-input[_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{cursor:pointer}.input-date[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:var(--font-size-md);font-weight:500}.task-card-update-buttons[_ngcontent-%COMP%]{position:relative;width:100%;height:-moz-fit-content;height:fit-content;display:grid;grid-template-columns:1fr 1fr;justify-items:center;align-items:center;gap:15px}.task-card-update-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;width:100%;height:-moz-fit-content;height:fit-content;padding:15px;border-radius:6px;font-weight:500;border:1px solid rgba(255,255,255,0)}.task-delete-btn[_ngcontent-%COMP%]{border:1px solid rgb(213,213,213)!important;background-color:#fff0;cursor:pointer}@keyframes _ngcontent-%COMP%_load_barWidth{0%{width:0}to{width:100%}}.task-confirm-delete-btn[_ngcontent-%COMP%]{background-color:#960000;color:#fff;cursor:pointer}.task-confirm-delete-btn[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#0000001a;border-radius:4px;animation-name:_ngcontent-%COMP%_load_barWidth;animation-duration:6s}.task-save-btn[_ngcontent-%COMP%]{border:none;background-color:gold;cursor:pointer}@keyframes _ngcontent-%COMP%_load_saveCheck{0%{background-color:gold;width:100%;height:100%;border-radius:6px;color:#fff}2%{border-radius:6px}5%{background-color:#127600;border:none;width:30px;height:30px;border-radius:50px}45%{background-color:#127600;border:none;color:#fff}60%{background-color:#fff0;border:2px solid rgb(18,118,0);color:#127600}}.task-confirm-save-check[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;background-color:#fff0;border:2px solid rgb(18,118,0);color:#127600;width:30px;height:30px;border-radius:50px;animation-name:_ngcontent-%COMP%_load_saveCheck;animation-duration:3s}.task-confirm-save-check[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px;font-weight:800;-webkit-text-stroke:.6px}.task-not-found[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:15px}.task-not-found-message[_ngcontent-%COMP%]{position:relative;display:flex;gap:5px;align-items:center}.task-not-found-message[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{font-size:var(--font-size-lg);-webkit-text-stroke:.3px}.task-not-found-message[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-size:var(--font-size-lg);font-weight:400}.task-not-found[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{font-size:var(--font-size-sm);text-decoration:none;padding:5px 15px;color:#fff;background-color:#000;border-radius:6px}@media screen and (max-width:1250px){[_nghost-%COMP%]{position:fixed;top:auto;bottom:0;height:calc(100dvh - 150px);border-radius:6px 6px 0 0;overflow:hidden;width:100%;box-shadow:0 -5px 15px #96969699}.task-card[_ngcontent-%COMP%]{width:100%}.top-section-task[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{display:flex}}']})}return i})();const O=["checkbox"];function P(i,a){if(1&i&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Oqu(e.title)}}function D(i,a){1&i&&(t.TgZ(0,"p",9),t._uU(1,"No title defined"),t.qZA())}const y=function(i){return["/tasks",i]};let Z=(()=>{class i{constructor(e){this.tasksService=e,this.id=0,this.title="",this.isChecked=!1}ngAfterViewInit(){this.checkbox&&(this.checkbox.nativeElement.checked=this.isChecked)}updateCheckedValue(){this.tasksService.updateTask_Checked(this.id,this.checkbox.nativeElement.checked)}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(g))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-task-topic"]],viewQuery:function(n,o){if(1&n&&t.Gf(O,5),2&n){let s;t.iGM(s=t.CRH())&&(o.checkbox=s.first)}},inputs:{id:"id",title:"title",dueDate:"dueDate",isChecked:"isChecked"},decls:10,vars:5,consts:[[1,"task-topic"],[1,"task-topic-checkbox"],["type","checkbox",3,"change"],["checkbox",""],[1,"task-topic-content"],[4,"ngIf","ngIfElse"],["noTitle",""],[1,"task-topic-arrow",3,"routerLink"],[1,"bi","bi-chevron-right"],[1,"task-topic-no-title"]],template:function(n,o){if(1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"input",2,3),t.NdJ("change",function(){return o.updateCheckedValue()}),t.qZA()(),t.TgZ(4,"div",4),t.YNc(5,P,2,1,"p",5),t.YNc(6,D,2,0,"ng-template",null,6,t.W1O),t.qZA(),t.TgZ(8,"a",7),t._UZ(9,"i",8),t.qZA()()),2&n){const s=t.MAs(7);t.xp6(5),t.Q6J("ngIf",o.title.length>0)("ngIfElse",s),t.xp6(3),t.Q6J("routerLink",t.VKq(3,y,o.id))}},dependencies:[p.O5,r.rH],styles:[".task-topic[_ngcontent-%COMP%]{position:relative;width:100%;height:-moz-fit-content;height:fit-content;padding:15px;display:grid;grid-template-columns:auto 1fr auto;gap:15px;align-items:center;background-color:#e6e6e6;border-radius:6px}.task-topic-checkbox[_ngcontent-%COMP%], .task-topic-arrow[_ngcontent-%COMP%]{position:relative;width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content;display:flex;justify-content:center;align-items:center}.task-topic-checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:16px;height:16px}.task-topic-arrow[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px;height:-moz-fit-content;height:fit-content;width:-moz-fit-content;width:fit-content}.task-topic-no-title[_ngcontent-%COMP%]{font-style:italic;color:var(--color-text-secondary)}"]})}return i})();const I=["newTaskInput"];function A(i,a){1&i&&(t.TgZ(0,"p",11),t._uU(1," To be defined "),t.qZA())}function z(i,a){if(1&i&&(t.TgZ(0,"p",11),t._uU(1),t.qZA()),2&i){const e=t.oxw(2).index,n=t.oxw();t.xp6(1),t.Oqu(n.getMonthOfTask(e))}}function J(i,a){if(1&i&&(t.ynx(0),t.YNc(1,A,2,0,"p",9),t.YNc(2,z,2,1,"ng-template",null,10,t.W1O),t.BQk()),2&i){const e=t.MAs(3),n=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",null===n.dueDate)("ngIfElse",e)}}function S(i,a){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,J,4,2,"ng-container",7),t._UZ(2,"app-task-topic",8),t.qZA()),2&i){const e=a.$implicit,n=a.index,o=t.oxw();t.xp6(1),t.Q6J("ngIf",!o.isEqualDateAsPrevious(n)),t.xp6(1),t.Q6J("id",e.id)("title",e.title)("isChecked",e.isChecked)}}const q=[{path:"",component:(()=>{class i{constructor(e,n,o){this.tasksService=e,this.router=n,this.route=o,this.tasksList=[],this.newTaskTitle=""}ngOnInit(){this.getTasks()}getTasks(){this.tasksService.tasks$.subscribe({next:e=>{e.sort((n,o)=>null===n.dueDate?-1:null===o.dueDate?1:"string"==typeof n.dueDate&&"string"==typeof o.dueDate?Date.parse(n.dueDate)-Date.parse(o.dueDate):n.dueDate.getTime()-o.dueDate.getTime()),this.tasksList=e,console.log(this.tasksList)},error:e=>console.error("An error occurred :",e)})}addTask(){const e=this.tasksService.addTask(this.newTaskTitle);this.newTaskTitle="",this.router.navigate(["/tasks",e])}addTask_ByEnter(){this.newTaskTitle.length>0&&(this.addTask(),this.newTaskInput.nativeElement.blur())}isEqualDateAsPrevious(e){if(0===e)return!1;const n=this.tasksList[e].dueDate,o=this.tasksList[e-1].dueDate;return n===o||null!=n&&null!=o&&new Date(n).getMonth()===new Date(o).getMonth()}getMonthOfTask(e){const n=this.tasksList[e].dueDate;if(null!=n){const o=new Date(n);return new Intl.DateTimeFormat("en-US",{month:"long"}).format(o)}return"System Error"}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(g),t.Y36(r.F0),t.Y36(r.gz))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-tasks"]],viewQuery:function(n,o){if(1&n&&t.Gf(I,5),2&n){let s;t.iGM(s=t.CRH())&&(o.newTaskInput=s.first)}},decls:10,vars:2,consts:[[1,"tasks-page"],[1,"tasks-list"],[1,"new-task-input"],[1,"bi","bi-plus-square-fill",3,"click"],["type","text","placeholder","New task title",3,"ngModel","keydown.enter","ngModelChange"],["newTaskInput",""],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"id","title","isChecked"],["class","task-list-dateDivisor",4,"ngIf","ngIfElse"],["dateLabel",""],[1,"task-list-dateDivisor"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h1"),t._uU(3,"Tasks"),t.qZA(),t.TgZ(4,"div",2)(5,"i",3),t.NdJ("click",function(){return o.addTask()}),t.qZA(),t.TgZ(6,"input",4,5),t.NdJ("keydown.enter",function(){return o.addTask_ByEnter()})("ngModelChange",function(u){return o.newTaskTitle=u}),t.qZA()(),t.YNc(8,S,3,4,"div",6),t.qZA(),t._UZ(9,"router-outlet"),t.qZA()),2&n&&(t.xp6(6),t.Q6J("ngModel",o.newTaskTitle),t.xp6(2),t.Q6J("ngForOf",o.tasksList))},dependencies:[p.sg,p.O5,d.Fj,d.JJ,d.On,Z,r.lC],styles:[".tasks-page[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;display:grid;grid-template-columns:1fr auto;gap:10px}.new-task-input[_ngcontent-%COMP%]{position:relative;display:grid;grid-template-columns:auto 1fr;align-items:center;gap:15px;width:auto}.new-task-input[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:relative;font-size:20px;color:gold;cursor:pointer}.new-task-input[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{position:relative;width:auto;height:-moz-fit-content;height:fit-content;padding:10px;border:none;background-color:#fff0;border-bottom:1px solid rgb(213,213,213)}.tasks-list[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;padding:15px;display:flex;flex-direction:column;gap:15px;border-radius:6px;background-color:#fcfcfc}.task-list-dateDivisor[_ngcontent-%COMP%]{margin-bottom:15px;font-size:var(--font-size-md);font-weight:500;color:#505050}@media screen and (max-width:1250px){.tasks-page[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})}return i})(),children:[{path:":taskId",component:w}]},{path:"**",redirectTo:""}];let N=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=t.oAB({type:i});static#n=this.\u0275inj=t.cJS({imports:[p.ez,d.u5,f.K,r.Bz.forChild(q)]})}return i})()}}]);